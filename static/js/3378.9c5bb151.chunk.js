"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[3378],{16433:function(e,t,r){r.d(t,{E:function(){return o},R:function(){return u},S:function(){return s},a:function(){return c}});var n=r(19560),a=r(99094),i=r(43414),u=function(){return a.z.union([a.z.date().transform((function(e){return n.O$.from(Math.floor(e.getTime()/1e3))})),a.z.number().transform((function(e){return n.O$.from(e)}))])}(),s=function(){return u.default(new Date(0))}(),o=function(){return u.default(new Date(Date.now()+31536e7))}();function c(e,t){if(!e)throw new i.x(t);return e}},56571:function(e,t,r){r.d(t,{B:function(){return l},C:function(){return m},N:function(){return d},a:function(){return p},s:function(){return f}});var n=r(74165),a=r(15861),i=r(43414),u=r(99094),s=r(84546),o=function(){return u.z.object({}).catchall(u.z.union([i.cx,u.z.unknown()]))}(),c=function(){return u.z.union([u.z.array(o),o]).optional().nullable()}(),l=function(){return u.z.object({name:u.z.union([u.z.string(),u.z.number()]).optional().nullable(),description:u.z.string().nullable().optional().nullable(),image:i.cy.nullable().optional(),animation_url:i.cy.optional().nullable()})}(),p=function(){return l.extend({external_url:i.cy.nullable().optional(),background_color:i.cz.optional().nullable(),properties:c,attributes:c}).catchall(u.z.union([i.cx,u.z.unknown()]))}(),d=function(){return u.z.union([p,u.z.string()])}(),m=function(){return p.extend({id:u.z.string(),uri:u.z.string(),image:u.z.string().nullable().optional(),external_url:u.z.string().nullable().optional(),animation_url:u.z.string().nullable().optional()})}();function f(e,t,r,n){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)((0,n.Z)().mark((function e(t,a,u,o){var c,l,p,d,m,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,s.i)(u)){e.next=4;break}o.value=a,e.next=21;break;case 4:return e.next=6,Promise.resolve().then(r.t.bind(r,49242,19));case 6:return c=e.sent.default,l=t.getSigner(),p=t.getProvider(),d=new i.cr(l||p,u,c,t.options,t.storage),e.next=12,t.getSignerAddress();case 12:return m=e.sent,f=t.address,e.next=16,d.read("allowance",[m,f]);case 16:if(!e.sent.lt(a)){e.next=20;break}return e.next=20,d.sendTransaction("approve",[f,a]);case 20:return e.abrupt("return",o);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},43378:function(e,t,r){r.d(t,{A:function(){return D},B:function(){return ke},C:function(){return be},D:function(){return oe},E:function(){return E},F:function(){return O},H:function(){return ye},I:function(){return xe},M:function(){return Ae},S:function(){return ve},a:function(){return $},f:function(){return V},k:function(){return we},o:function(){return Ce},p:function(){return Te},q:function(){return Pe},r:function(){return ze},s:function(){return Re},t:function(){return Ue},u:function(){return Ie},v:function(){return me},w:function(){return L},x:function(){return H},y:function(){return B},z:function(){return J}});var n,a=r(93433),i=r(29439),u=r(37762),s=r(1413),o=r(74165),c=r(15671),l=r(43144),p=r(15861),d=r(6321),m=r(18383),f=r(11291),y=r(46684),h=r(81895),b=r(19560),x=r(52009),k=r(91953),v=r(43414),w=r(84546),g=r(88034),S=r(60862),Z=r(16433),C=r(99094),T=r(56571),P={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},z=new Uint8Array(16);function A(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(z)}for(var R=[],U=0;U<256;++U)R.push((U+256).toString(16).slice(1));function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return R[e[t+0]]+R[e[t+1]]+R[e[t+2]]+R[e[t+3]]+"-"+R[e[t+4]]+R[e[t+5]]+"-"+R[e[t+6]]+R[e[t+7]]+"-"+R[e[t+8]]+R[e[t+9]]+"-"+R[e[t+10]]+R[e[t+11]]+R[e[t+12]]+R[e[t+13]]+R[e[t+14]]+R[e[t+15]]}var N=function(e,t,r){if(P.randomUUID&&!t&&!e)return P.randomUUID();var n=(e=e||{}).random||(e.rng||A)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=n[a];return t}return I(n)};function E(e){return{startTimestamp:e.startTimestamp,maxClaimableSupply:e.maxClaimableSupply,supplyClaimed:e.supplyClaimed,merkleRoot:e.merkleRoot,pricePerToken:e.pricePerToken,currency:e.currency,quantityLimitPerTransaction:e.maxClaimablePerWallet,waitTimeInSecondsBetweenClaims:e.waitTimeInSecondsBetweenClaims||0}}function O(e){return{startTimestamp:e.startTimestamp,maxClaimableSupply:e.maxClaimableSupply,supplyClaimed:e.supplyClaimed,merkleRoot:e.merkleRoot,pricePerToken:e.pricePerToken,currency:e.currency,quantityLimitPerWallet:e.maxClaimablePerWallet,metadata:e.metadata||""}}function B(e,t){return"unlimited"===e?d.Bz:m.parseUnits(e,t)}function M(e){return W.apply(this,arguments)}function W(){return W=(0,p.Z)((0,o.Z)().mark((function e(t){var r,n,i,s,c,l,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=25e3,n=Array.from({length:Math.ceil(t.length/r)},(function(e,n){return t.slice(n*r,n*r+r)})),i=[],e.next=5,Promise.all(n.map((function(e){return v.bK.parseAsync(e)})));case 5:s=e.sent,c=(0,u.Z)(s);try{for(c.s();!(l=c.n()).done;)p=l.value,i.push.apply(i,(0,a.Z)(p))}catch(o){c.e(o)}finally{c.f()}return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}var D=function(e){return e[e.V1=1]="V1",e[e.V2=2]="V2",e}({}),q=function(){function e(t,r,n,a,i){(0,c.Z)(this,e),this.storage=t,this.shardNybbles=a,this.baseUri=r,this.originalEntriesUri=n,this.tokenDecimals=i,this.shards={},this.trees={}}return(0,l.Z)(e,[{key:"getProof",value:function(){var t=(0,p.Z)((0,o.Z)().mark((function t(r,n,a){var i,u,c,l,d,m,y,h,b,x=this;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.slice(2,2+this.shardNybbles).toLowerCase(),u=this.shards[i],c={},void 0!==u){t.next=18;break}return t.prev=4,l=this.baseUri.endsWith("/")?this.baseUri:"".concat(this.baseUri,"/"),t.next=8,this.storage.downloadJSON("".concat(l).concat(i,".json"));case 8:return u=this.shards[i]=t.sent,t.next=11,Promise.all(u.entries.map(function(){var t=(0,p.Z)((0,o.Z)().mark((function t(r){var i;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchAndCacheDecimals(c,n,r.currencyAddress);case 2:return i=t.sent,t.abrupt("return",e.hashEntry(r,x.tokenDecimals,i,a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 11:d=t.sent,this.trees[i]=new S.MerkleTree(d,f.keccak256,{sort:!0}),t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(4),t.abrupt("return",null);case 18:if(m=u.entries.find((function(e){return e.address.toLowerCase()===r.toLowerCase()})),m){t.next=21;break}return t.abrupt("return",null);case 21:return t.next=23,e.fetchAndCacheDecimals(c,n,m.currencyAddress);case 23:return y=t.sent,h=e.hashEntry(m,this.tokenDecimals,y,a),b=this.trees[i].getProof(h).map((function(e){return"0x"+e.data.toString("hex")})),t.abrupt("return",v.bL.parseAsync((0,s.Z)((0,s.Z)({},m),{},{proof:b.concat(u.proofs)})));case 27:case"end":return t.stop()}}),t,this,[[4,15]])})));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"getAllEntries",value:function(){var e=(0,p.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.storage.downloadJSON(this.originalEntriesUri);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.warn("Could not fetch original snapshot entries",e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()}],[{key:"fromUri",value:function(){var t=(0,p.Z)((0,o.Z)().mark((function t(r,n){var a;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.downloadJSON(r);case 3:if(!(a=t.sent).isShardedMerkleTree){t.next=6;break}return t.abrupt("return",e.fromShardedMerkleTreeInfo(a,n));case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",void 0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()},{key:"fromShardedMerkleTreeInfo",value:function(){var t=(0,p.Z)((0,o.Z)().mark((function t(r,n){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new e(n,r.baseUri,r.originalEntriesUri,r.shardNybbles,r.tokenDecimals));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"hashEntry",value:function(e,t,r,n){switch(n){case D.V1:return y.keccak256(["address","uint256"],[e.address,B(e.maxClaimable,t)]);case D.V2:return y.keccak256(["address","uint256","uint256","address"],[e.address,B(e.maxClaimable,t),B(e.price||"unlimited",r),e.currencyAddress||h.d])}}},{key:"fetchAndCacheDecimals",value:function(){var e=(0,p.Z)((0,o.Z)().mark((function e(t,r,n){var a,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",18);case 2:if(void 0!==(a=t[n])){e.next=9;break}return e.next=6,(0,w.f)(r,n);case 6:i=e.sent,a=i.decimals,t[n]=a;case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"buildAndUpload",value:function(){var t=(0,p.Z)((0,o.Z)().mark((function t(r,n,a,s,c){var l,d,m,y,h,b,x,k,v,w,g,Z,C,T,P,z,A,R,U,I,N,E,O,B=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=B.length>5&&void 0!==B[5]?B[5]:2,t.next=3,M(r);case 3:d=t.sent,m={},y=(0,u.Z)(d);try{for(y.s();!(h=y.n()).done;)b=h.value,x=b.address.slice(2,2+l).toLowerCase(),void 0===m[x]&&(m[x]=[]),m[x].push(b)}catch(W){y.e(W)}finally{y.f()}return k={},t.next=10,Promise.all(Object.entries(m).map(function(){var t=(0,p.Z)((0,o.Z)().mark((function t(r){var u,s,l;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=(0,i.Z)(r,2),s=u[0],l=u[1],t.t0=s,t.t1=S.MerkleTree,t.next=5,Promise.all(l.map(function(){var t=(0,p.Z)((0,o.Z)().mark((function t(r){var i;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchAndCacheDecimals(k,a,r.currencyAddress);case 2:return i=t.sent,t.abrupt("return",e.hashEntry(r,n,i,c));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 5:return t.t2=t.sent,t.t3=f.keccak256,t.t4={sort:!0},t.t5=new t.t1(t.t2,t.t3,t.t4).getHexRoot(),t.abrupt("return",[t.t0,t.t5]);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 10:for(v=t.sent,w=Object.fromEntries(v),g=new S.MerkleTree(Object.values(w),f.keccak256,{sort:!0}),Z=[],C=0,T=Object.entries(m);C<T.length;C++)P=(0,i.Z)(T[C],2),z=P[0],A=P[1],R={proofs:g.getProof(w[z]).map((function(e){return"0x"+e.data.toString("hex")})),entries:A},Z.push({data:JSON.stringify(R),name:"".concat(z,".json")});return t.next=17,s.uploadBatch(Z);case 17:return U=t.sent,I=U[0].slice(0,U[0].lastIndexOf("/")),t.next=21,s.upload(d);case 21:return N=t.sent,E={merkleRoot:g.getHexRoot(),baseUri:I,originalEntriesUri:N,shardNybbles:l,tokenDecimals:n,isShardedMerkleTree:!0},t.next=25,s.upload(E);case 25:return O=t.sent,t.abrupt("return",{shardedMerkleInfo:E,uri:O});case 27:case"end":return t.stop()}}),t)})));return function(e,r,n,a,i){return t.apply(this,arguments)}}()}]),e}();function V(e,t,r,n,a,i){return j.apply(this,arguments)}function j(){return(j=(0,p.Z)((0,o.Z)().mark((function e(t,r,n,a,i,u){var s,c,l,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:if(!(s=n[r])){e.next=19;break}return e.next=6,i.downloadJSON(s);case 6:if(!(c=e.sent).isShardedMerkleTree||c.merkleRoot!==r){e.next=14;break}return e.next=10,q.fromShardedMerkleTreeInfo(c,i);case 10:return l=e.sent,e.next=13,l.getProof(t,a,u);case 13:return e.abrupt("return",e.sent);case 14:return e.next=16,v.bM.parseAsync(c);case 16:if(p=e.sent,r!==p.merkleRoot){e.next=19;break}return e.abrupt("return",p.claims.find((function(e){return e.address.toLowerCase()===t.toLowerCase()}))||null);case 19:return e.abrupt("return",null);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return{startTimestamp:e.startTimestamp,maxClaimableSupply:e.maxClaimableSupply,supplyClaimed:e.supplyClaimed,merkleRoot:e.merkleRoot.toString(),pricePerToken:e.pricePerToken,currency:e.currency,maxClaimablePerWallet:e.quantityLimitPerTransaction,waitTimeInSecondsBetweenClaims:e.waitTimeInSecondsBetweenClaims}}function H(e){return{startTimestamp:e.startTimestamp,maxClaimableSupply:e.maxClaimableSupply,supplyClaimed:e.supplyClaimed,merkleRoot:e.merkleRoot.toString(),pricePerToken:e.pricePerToken,currency:e.currency,maxClaimablePerWallet:e.quantityLimitPerWallet,waitTimeInSecondsBetweenClaims:0,metadata:e.metadata}}function $(e,t,r,n,a){return _.apply(this,arguments)}function _(){return(_=(0,p.Z)((0,o.Z)().mark((function e(t,n,a,i,u){var s,c,l,p,d,f,y,h;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.getSigner(),c=t.getProvider(),e.next=4,Promise.resolve().then(r.t.bind(r,49242,19));case 4:return l=e.sent.default,p=new v.cr(s||c,n,l,t.options,t.storage),e.next=8,t.getSignerAddress();case 8:return d=e.sent,f=t.address,e.next=12,p.read("allowance",[d,f]);case 12:if(y=e.sent,h=b.O$.from(a).mul(b.O$.from(i)).div(m.parseUnits("1",u)),!y.lt(h)){e.next=17;break}return e.next=17,p.sendTransaction("approve",[f,y.add(h)]);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t,r,n,a,i,u,s,o){return K.apply(this,arguments)}function K(){return(K=(0,p.Z)((0,o.Z)().mark((function e(t,r,n,a,i,u,s,c,l){var p,f,y,k,v,S,Z,C;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=B(n.maxClaimablePerWallet,i),f=[x.hexZeroPad([0],32)],y=n.price,k=n.currencyAddress,e.prev=4,n.merkleRootHash.toString().startsWith(h.d)){e.next=34;break}return e.t0=V,e.t1=t,e.t2=n.merkleRootHash.toString(),e.next=11,a();case 11:return e.t3=e.sent,e.t4=u.getProvider(),e.t5=s,e.t6=l,e.next=17,(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5,e.t6);case 17:if(!(v=e.sent)){e.next=32;break}if(f=v.proof,p="unlimited"===v.maxClaimable?d.Bz:m.parseUnits(v.maxClaimable,i),void 0!==v.price&&"unlimited"!==v.price){e.next=25;break}e.t7=d.Bz,e.next=28;break;case 25:return e.next=27,(0,g.n)(u.getProvider(),v.price,v.currencyAddress||h.d);case 27:e.t7=e.sent;case 28:y=e.t7,k=v.currencyAddress||h.d,e.next=34;break;case 32:if(l!==D.V1){e.next=34;break}throw new Error("No claim found for this address");case 34:e.next=41;break;case 36:if(e.prev=36,e.t8=e.catch(4),"No claim found for this address"!==(null===e.t8||void 0===e.t8?void 0:e.t8.message)){e.next=40;break}throw e.t8;case 40:console.warn("failed to check claim condition merkle root hash, continuing anyways",e.t8);case 41:return e.next=43,u.getCallOverrides();case 43:if(e.t9=e.sent,e.t9){e.next=46;break}e.t9={};case 46:if(S=e.t9,Z=y.toString()!==d.Bz.toString()?y:n.price,C=k!==h.d?k:n.currencyAddress,!Z.gt(0)){e.next=57;break}if(!(0,w.i)(C)){e.next=54;break}S.value=b.O$.from(Z).mul(r).div(m.parseUnits("1",i)),e.next=57;break;case 54:if(!c){e.next=57;break}return e.next=57,$(u,C,Z,r,i);case 57:return e.abrupt("return",{overrides:S,proofs:f,maxClaimable:p,price:Z,currencyAddress:C,priceInProof:y,currencyAddressInProof:k});case 58:case"end":return e.stop()}}),e,null,[[4,36]])})))).apply(this,arguments)}var Y=function(){return C.z.object({name:C.z.string(),symbol:C.z.string(),decimals:C.z.number()})}(),F=function(){return Y.extend({value:v.b5,displayValue:C.z.string()})}(),G=function(){return C.z.object({name:C.z.string().optional()}).catchall(C.z.unknown())}(),Q=function(){return C.z.object({startTime:Z.S,currencyAddress:C.z.string().default(v.aV),price:v.cw.default(0),maxClaimableSupply:v.cA,maxClaimablePerWallet:v.cA,waitInSeconds:v.b6.default(0),merkleRootHash:v.cB.default(x.hexZeroPad([0],32)),snapshot:C.z.optional(v.bK).nullable(),metadata:G.optional()})}(),X=function(){return C.z.array(Q)}(),ee=function(){return Q.extend({availableSupply:v.cA,currentMintSupply:v.cA,currencyMetadata:F.default({value:b.O$.from("0"),displayValue:"0",symbol:"",decimals:18,name:""}),price:v.b5,waitInSeconds:v.b5,startTime:v.b5.transform((function(e){return new Date(1e3*e.toNumber())})),snapshot:v.bK.optional().nullable()})}();function te(e,t,r,n,a){return re.apply(this,arguments)}function re(){return re=(0,p.Z)((0,o.Z)().mark((function e(t,r,n,a,i){var u,s,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:if(u=e.sent,s=u.map((function(e){return e.address})),!(new Set(s).size<s.length)){e.next=7;break}throw new v.s;case 7:return e.next=9,q.buildAndUpload(u,r,n,a,i);case 9:return c=e.sent,e.abrupt("return",{merkleRoot:c.shardedMerkleInfo.merkleRoot,snapshotUri:c.uri});case 11:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}function ne(e,t){var r=b.O$.from(e),n=b.O$.from(t);return r.eq(n)?0:r.gt(n)?1:-1}function ae(e,t,r,n,a){return ie.apply(this,arguments)}function ie(){return ie=(0,p.Z)((0,o.Z)().mark((function e(t,r,n,a,i){var u,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=[],e.next=3,Promise.all(t.map(function(){var e=(0,p.Z)((0,o.Z)().mark((function e(t){var s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.snapshot&&t.snapshot.length>0)){e.next=8;break}return e.next=3,te(t.snapshot,r,n,a,i);case 3:s=e.sent,u.push(s),t.merkleRootHash=s.merkleRoot,e.next=9;break;case 8:t.merkleRootHash=x.hexZeroPad([0],32);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return s=e.sent,e.abrupt("return",{inputsWithSnapshots:s,snapshotInfos:u});case 5:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}function ue(e,t,r,n){return se.apply(this,arguments)}function se(){return(se=(0,p.Z)((0,o.Z)().mark((function e(t,r,n,a){var i,u,s,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.currencyAddress===h.d?v.aV:t.currencyAddress,u=B(t.maxClaimableSupply,r),s=B(t.maxClaimablePerWallet,r),!t.metadata){e.next=11;break}if("string"!==typeof t.metadata){e.next=8;break}c=t.metadata,e.next=11;break;case 8:return e.next=10,a.upload(t.metadata);case 10:c=e.sent;case 11:return e.t0=t.startTime,e.t1=u,e.t2=s,e.next=16,(0,g.n)(n,t.price,i);case 16:return e.t3=e.sent,e.t4=i,e.t5=t.merkleRootHash.toString(),e.t6=t.waitInSeconds||0,e.t7=c,e.abrupt("return",{startTimestamp:e.t0,maxClaimableSupply:e.t1,supplyClaimed:0,maxClaimablePerWallet:e.t2,pricePerToken:e.t3,currency:e.t4,merkleRoot:e.t5,waitTimeInSecondsBetweenClaims:e.t6,metadata:e.t7});case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t,r,n,a){return ce.apply(this,arguments)}function ce(){return(ce=(0,p.Z)((0,o.Z)().mark((function e(t,r,n,a,i){var u,s,c,l,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t,r,n,a,i);case 2:return u=e.sent,s=u.inputsWithSnapshots,c=u.snapshotInfos,e.next=7,X.parseAsync(s);case 7:return l=e.sent,e.next=10,Promise.all(l.map((function(e){return ue(e,r,n,a)})));case 10:return p=e.sent.sort((function(e,t){return ne(e.startTimestamp,t.startTimestamp)})),e.abrupt("return",{snapshotInfos:c,sortedConditions:p});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e,t,r){return pe.apply(this,arguments)}function pe(){return(pe=(0,p.Z)((0,o.Z)().mark((function e(t,r,n){var a,i,u,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:if(!(a=r[t])){e.next=19;break}return e.next=6,n.downloadJSON(a);case 6:if(!(i=e.sent).isShardedMerkleTree||i.merkleRoot!==t){e.next=14;break}return e.next=10,q.fromUri(a,n);case 10:return u=e.sent,e.abrupt("return",(null===u||void 0===u?void 0:u.getAllEntries())||null);case 14:return e.next=16,v.bM.parseAsync(i);case 16:if(s=e.sent,t!==s.merkleRoot){e.next=19;break}return e.abrupt("return",s.claims.map((function(e){return{address:e.address,maxClaimable:e.maxClaimable,price:e.price,currencyAddress:e.currencyAddress}})));case 19:return e.abrupt("return",null);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){return e.toString()===d.Bz.toString()?"unlimited":m.formatUnits(e,t)}function me(e,t,r,n,a,i){return fe.apply(this,arguments)}function fe(){return(fe=(0,p.Z)((0,o.Z)().mark((function e(t,r,n,a,i,u){var s,c,l,p,d,m,f;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.a)(n,t.currency,t.pricePerToken);case 2:if(c=e.sent,l=de(t.maxClaimableSupply,r),p=de(t.maxClaimablePerWallet,r),d=de(b.O$.from(t.maxClaimableSupply).sub(t.supplyClaimed),r),m=de(t.supplyClaimed,r),!t.metadata){e.next=11;break}return e.next=10,i.downloadJSON(t.metadata);case 10:f=e.sent;case 11:if(e.t0=ee,e.t1=t.startTimestamp,e.t2=l,e.t3=p,e.t4=m,e.t5=d,e.t6=null===(s=t.waitTimeInSecondsBetweenClaims)||void 0===s?void 0:s.toString(),e.t7=b.O$.from(t.pricePerToken),e.t8=t.currency,e.t9=t.currency,e.t10=c,e.t11=t.merkleRoot,!u){e.next=29;break}return e.next=26,le(t.merkleRoot,a,i);case 26:e.t12=e.sent,e.next=30;break;case 29:e.t12=void 0;case 30:return e.t13=e.t12,e.t14=f,e.t15={startTime:e.t1,maxClaimableSupply:e.t2,maxClaimablePerWallet:e.t3,currentMintSupply:e.t4,availableSupply:e.t5,waitInSeconds:e.t6,price:e.t7,currency:e.t8,currencyAddress:e.t9,currencyMetadata:e.t10,merkleRootHash:e.t11,snapshot:e.t13,metadata:e.t14},e.abrupt("return",e.t0.parseAsync.call(e.t0,e.t15));case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e,t,r){return he.apply(this,arguments)}function he(){return he=(0,p.Z)((0,o.Z)().mark((function e(t,r,n){var a,i,u,c,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>=n.length)){e.next=2;break}throw Error("Index out of bounds - got index: ".concat(t," with ").concat(n.length," conditions"));case 2:return a=n[t].currencyMetadata.decimals,i=n[t].price,u=m.formatUnits(i,a),e.next=7,Q.parseAsync((0,s.Z)((0,s.Z)({},n[t]),{},{price:u},r));case 7:return c=e.sent,e.next=10,ee.parseAsync((0,s.Z)((0,s.Z)({},c),{},{price:i}));case 10:return l=e.sent,e.abrupt("return",n.map((function(e,r){var n;n=r===t?l:e;var i=m.formatUnits(n.price,a);return(0,s.Z)((0,s.Z)({},n),{},{price:i})})));case 12:case"end":return e.stop()}}),e)}))),he.apply(this,arguments)}var be=function(e){return e.NotEnoughSupply="There is not enough supply to claim.",e.AddressNotAllowed="This address is not on the allowlist.",e.WaitBeforeNextClaimTransaction="Not enough time since last claim transaction. Please wait.",e.ClaimPhaseNotStarted="Claim phase has not started yet.",e.AlreadyClaimed="You have already claimed the token.",e.WrongPriceOrCurrency="Incorrect price or currency.",e.OverMaxClaimablePerWallet="Cannot claim more than maximum allowed quantity.",e.NotEnoughTokens="There are not enough tokens in the wallet to pay for the claim.",e.NoActiveClaimPhase="There is no active claim phase at the moment. Please check back in later.",e.NoClaimConditionSet="There is no claim condition set.",e.NoWallet="No wallet connected.",e.Unknown="No claim conditions found.",e}({});function xe(e){if(void 0===e){var t=Buffer.alloc(16);return N({},t),x.hexlify(k.Y0(t.toString("hex")))}return x.hexlify(e)}var ke=function(){return C.z.object({to:v.b9.refine((function(e){return e.toLowerCase()!==h.d}),{message:"Cannot create payload to mint to zero address"}),price:v.cw.default(0),currencyAddress:v.b8.default(v.aV),mintStartTime:Z.S,mintEndTime:Z.E,uid:C.z.string().optional().transform((function(e){return xe(e)})),primarySaleRecipient:v.b9.default(h.d)})}(),ve=function(){return ke.extend({quantity:v.cw})}(),we=function(){return ve.extend({mintStartTime:v.b5,mintEndTime:v.b5})}(),ge=function(){return ke.extend({metadata:T.N,royaltyRecipient:C.z.string().default(h.d),royaltyBps:v.cC.default(0)})}(),Se=function(){return ge.extend({metadata:T.N.default(""),uri:C.z.string(),royaltyBps:v.b5,mintStartTime:v.b5,mintEndTime:v.b5})}(),Ze=function(){return ge.extend({metadata:T.N.default(""),quantity:v.b6})}(),Ce=function(){return Ze.extend({tokenId:v.b6})}(),Te=function(){return Se.extend({tokenId:v.b5,quantity:v.b5})}(),Pe=function(){return ge.extend({metadata:T.N.default(""),quantity:v.b5.default(1)})}(),ze=function(){return Se.extend({quantity:v.b5.default(1)})}(),Ae=[{name:"to",type:"address"},{name:"primarySaleRecipient",type:"address"},{name:"quantity",type:"uint256"},{name:"price",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],Re=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"uri",type:"string"},{name:"price",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],Ue=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"tokenId",type:"uint256"},{name:"uri",type:"string"},{name:"quantity",type:"uint256"},{name:"pricePerToken",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],Ie=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"uri",type:"string"},{name:"quantity",type:"uint256"},{name:"pricePerToken",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}]}}]);